---
# GCP Workload Identity Setup for Team Alpha
# Run these commands to set up workload identity:

# 1. Create GCP Service Account
# gcloud iam service-accounts create kargo-team-alpha \
#   --project=project-id \
#   --description="Kargo agent for Team Alpha" \
#   --display-name="Kargo Team Alpha"

# 2. Grant permissions to GCP Service Account
# gcloud projects add-iam-policy-binding project-id \
#   --member="serviceAccount:kargo-team-alpha@project-id.iam.gserviceaccount.com" \
#   --role="roles/secretmanager.secretAccessor"
#
# gcloud projects add-iam-policy-binding project-id \
#   --member="serviceAccount:kargo-team-alpha@project-id.iam.gserviceaccount.com" \
#   --role="roles/container.developer"

# 3. Bind K8s SA to GCP SA
# gcloud iam service-accounts add-iam-policy-binding \
#   kargo-team-alpha@project-id.iam.gserviceaccount.com \
#   --role roles/iam.workloadIdentityUser \
#   --member "serviceAccount:project-id.svc.id.goog[kargo-team-alpha/kargo-agent]"

# 4. Store app cluster kubeconfig in GCP Secret Manager
# gcloud secrets create team-alpha-app-cluster-kubeconfig \
#   --replication-policy="automatic" \
#   --data-file=/path/to/app-cluster-kubeconfig.yaml

# 5. Store Git credentials in GCP Secret Manager
# echo -n "github-username" | gcloud secrets create team-alpha-webapp-git-username --data-file=-
# echo -n "ghp_token" | gcloud secrets create team-alpha-webapp-git-token --data-file=-

---
# Repeat for Team Beta
# gcloud iam service-accounts create kargo-team-beta --project=project-id
# ... (same steps as above)

